<!DOCTYPE html>
<html>
<head>
    <title>Debug Vue App</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="debug-app">
        <h1>Debug Score Formatting</h1>
        <p>Testing formatScore function:</p>
        <ul>
            <li v-for="score in testScores" :key="score">
                {{ score }} → {{ formatScore(score) }}
            </li>
        </ul>
        
        <h2>First dataset from loaded data:</h2>
        <div v-if="firstDataset">
            <p>Name: {{ firstDataset.name }}</p>
            <p>General Avg: {{ firstDataset.general_avg }} → {{ formatScore(firstDataset.general_avg) }}</p>
            <p>Math Avg: {{ firstDataset.math_avg }} → {{ formatScore(firstDataset.math_avg) }}</p>
            <p>Overall Avg: {{ firstDataset.overall_avg }} → {{ formatScore(firstDataset.overall_avg) }}</p>
        </div>
    </div>

    <script>
        const { createApp, ref, onMounted } = Vue;
        
        createApp({
            setup() {
                const testScores = ref([27.88, 13.79, 21.11, 5, 5.0, 0, 1.234567]);
                const firstDataset = ref(null);
                
                const formatScore = (score) => {
                    if (typeof score === 'number') {
                        return score.toFixed(1);
                    }
                    return '0.0';
                };
                
                onMounted(async () => {
                    try {
                        const response = await fetch('./processed_leaderboard_data.json');
                        const data = await response.json();
                        firstDataset.value = data.llama[0];
                    } catch (error) {
                        console.error('Error loading data:', error);
                    }
                });
                
                return {
                    testScores,
                    firstDataset,
                    formatScore
                };
            }
        }).mount('#debug-app');
    </script>
</body>
</html>
